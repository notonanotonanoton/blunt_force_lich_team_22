[gd_scene load_steps=5 format=3 uid="uid://cupv7wvlaedxn"]

[ext_resource type="Texture2D" uid="uid://dfg63drc2dpj5" path="res://physics_objects/character_phylactery.png" id="1_ifsfx"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_78kp0"]
friction = 0.83
rough = true
absorbent = true

[sub_resource type="GDScript" id="GDScript_ovx2o"]
script/source = "extends RigidBody2D

var held
var first_sender

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _physics_process(delta):
	if held:
		get_node(\"CollisionShape2D\").disabled = true
		self.global_transform.origin = ((first_sender.position)-Vector2(0, 15))
	else:
		get_node(\"CollisionShape2D\").disabled = false


func picked_up_by(sender):
	if first_sender == null:
		first_sender = sender
		self.freeze = true
		held = true

func thrown_by(sender):
	held = false;
	self.freeze = false;
	first_sender = null;
	if sender.looking_direction == 1:
		apply_central_impulse(sender.position+(Vector2(2250, -165)))
	else:
		apply_central_impulse(sender.position+(Vector2(-2250, -165)))
	


	
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jg1l1"]
size = Vector2(14, 14)

[node name="Box" type="Node2D"]
position = Vector2(11, 25)

[node name="pick_up_box" type="RigidBody2D" parent="."]
position = Vector2(185, 132)
collision_layer = 5
mass = 4.16
physics_material_override = SubResource("PhysicsMaterial_78kp0")
freeze_mode = 1
continuous_cd = 2
max_contacts_reported = 5
contact_monitor = true
script = SubResource("GDScript_ovx2o")

[node name="CollisionShape2D" type="CollisionShape2D" parent="pick_up_box"]
shape = SubResource("RectangleShape2D_jg1l1")
debug_color = Color(0.0627451, 0.572549, 0.819608, 0.419608)

[node name="Sprite2D" type="Sprite2D" parent="pick_up_box"]
position = Vector2(0, 5.36442e-07)
texture = ExtResource("1_ifsfx")
